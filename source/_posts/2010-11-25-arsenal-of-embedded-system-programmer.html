---
layout: post
title: The Arsenal Of An Embedded System Programmer
date: '2010-11-25T16:44:00.004+05:30'
author: Hari John Kuriakose
tags:
- embedding
- computing
modified_time: '2010-11-26T01:27:02.492+05:30'
thumbnail: http://3.bp.blogspot.com/_rkBB8V8TgZY/TO5EsT4DexI/AAAAAAAAAWY/HHPw_L71LOw/s72-c/unix.jpg
blogger_id: tag:blogger.com,1999:blog-3368921059404601044.post-5543545526395461624
blogger_orig_url: http://harijohnkuriakose.blogspot.com/2010/11/arsenal-of-embedded-system-programmer.html
---

When confronting any new microcontroller or microprocessor or practicallly, a development board, there are some things to keep in mind before diving into the possibly arduous debugging session you are going to have with the system.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/_rkBB8V8TgZY/TO5EsT4DexI/AAAAAAAAAWY/HHPw_L71LOw/s1600/unix.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="251" src="http://3.bp.blogspot.com/_rkBB8V8TgZY/TO5EsT4DexI/AAAAAAAAAWY/HHPw_L71LOw/s320/unix.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Bits and more bits ...</td></tr></tbody></table><b><u>The Rules</u></b><br />1. Never fully trust anything written before you, anywhere you may see it.<br />2. If you are forced to behave otherwise, go back to Rule 1.<br /><br /><b><u>The Programmer's Model</u></b><br />&nbsp;&nbsp; &nbsp;You can't possibly know everything about the interconnections, circuitry and other design specifications of the chip under concern and also the development board, when you work on it for the first time. But then, these factors aren't really much of a concern. What you primarily need is something else.<br /><br />&nbsp;&nbsp; &nbsp;Even if you don't know how the chip is built, you must know how you can control it, and also the features available at the higher level. You need to have a model of your own for the chip, called the Programmer's Model. Through this model, you must be aware of the following:<br /><br />1. <b>Homework</b><br />&nbsp;&nbsp; &nbsp;Identify the manufacturer, family, type of device (value&nbsp;line, low/high density,<br />&nbsp;&nbsp; &nbsp;etc ..), and architecture (von&nbsp;Neumann, Harvard, etc ..).<br />&nbsp;&nbsp; &nbsp;Get the Family Manual, Device Specific Manual, and any&nbsp;other pdf that you may<br />&nbsp;&nbsp; &nbsp;find useful.<br />&nbsp;&nbsp; &nbsp;The manufacturer may also publish an errata sheet, which&nbsp;may become useful<br />&nbsp;&nbsp; &nbsp;in some rare cases.<br /><br />2. <b>Instruction set</b><br />&nbsp;&nbsp; &nbsp;Know whether the instructions are 16 or 32 bit. Be familiar&nbsp;with some common<br />&nbsp;&nbsp; &nbsp;instructions.<br />&nbsp;&nbsp; &nbsp;Understand the different addressing modes provided in the device.<br />&nbsp;&nbsp; &nbsp;Are the instructions aligned by &nbsp;2 or 4?<br />&nbsp;&nbsp; &nbsp;Does it suite more to a RISC or CISC style? &nbsp; <br /><br />3. <b>The Memory Map</b><br />&nbsp;&nbsp; &nbsp;Which are the memory areas for flash, RAM, interrupt&nbsp;vectors, peripheral<br />&nbsp;&nbsp; &nbsp;registers and special function registers&nbsp;(SFRs)?<br />&nbsp;&nbsp; &nbsp;Where is the starting location of stack stored? <br /><br />4. <b>Registers</b><br />&nbsp;&nbsp; &nbsp;Which are the General Purpose Registers, Program Counter,&nbsp;Status Register and<br />&nbsp;&nbsp; &nbsp;Special Function Registers?<br /><br />5. <b>The Vector Table</b><br />&nbsp;&nbsp; &nbsp;Where is the interrupt vector table present? Which&nbsp;interrupts do the vectors <br />&nbsp;&nbsp; &nbsp;represent in the table?<br />&nbsp;&nbsp; &nbsp;Which is the reset vector?<br /><br />6. <b>The Modules</b><br />&nbsp;&nbsp; &nbsp;Know the inbuilt modules in the package (ADC, Timer,&nbsp;USART, etc ..).<br />&nbsp;&nbsp; &nbsp;All the Control Word Registers needed and how to manipulate&nbsp;them, will be<br />&nbsp;&nbsp; &nbsp;usually specified in the Family Manual.<br /><br />7. <b>Modes of Operation</b><br />&nbsp;&nbsp; &nbsp;In some systems, the processor by itself may operate in&nbsp;different modes.<br />&nbsp;&nbsp; &nbsp;Also know about the various low power modes normally&nbsp;available for the system <br />&nbsp;&nbsp; &nbsp;as a whole.<br /><br />8. <b>The Runtime Framework</b><br />&nbsp;&nbsp; &nbsp;C is the normal choice for embedded programming.<br />&nbsp;&nbsp; &nbsp;If interested, learn the device specific startup functions that&nbsp;are called before<br />&nbsp;&nbsp; &nbsp;main().<br />&nbsp;&nbsp; &nbsp;You may also write a simple linker script.<br /><br />9. <b>Potential Bugs</b><br />&nbsp;&nbsp; &nbsp;Always keep an eye out for them. Unless it is something like&nbsp;a heisenbug for<br />&nbsp;&nbsp; &nbsp;example, it can be traced down. The time&nbsp;taken depends.