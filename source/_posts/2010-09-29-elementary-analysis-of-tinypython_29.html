---
layout: post
title: Elementary Analysis of TinyPython Virtual Machine v1.1
date: '2010-09-29T14:04:00.004+05:30'
author: Hari John Kuriakose
tags:
- python
- computing
modified_time: '2010-09-29T14:22:11.245+05:30'
thumbnail: http://3.bp.blogspot.com/_rkBB8V8TgZY/TKIDZbRC9pI/AAAAAAAAAPY/Q_4eRXMcEtY/s72-c/Screenshot-1.png
blogger_id: tag:blogger.com,1999:blog-3368921059404601044.post-1713040042077661476
blogger_orig_url: http://harijohnkuriakose.blogspot.com/2010/09/elementary-analysis-of-tinypython_29.html
---

<div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span style="font-style: normal;"><u><b><span class="Apple-style-span" style="font-family: inherit;">OVERVIEW</span></b></u></span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">TinyPython is a minimalist implementation of Python in 64K</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">code, originally created by Phil Hassey. He blogs at:</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><a href="http://philhassey.com/blog/"><span class="Apple-style-span" style="font-family: inherit;">http://philhassey.com/blog/</span></a><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;.</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">It is a <b>parser and byte-code compiler</b> written in</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">TinyPython itself. It is also fully bootstrapped in the sense that</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">initially, TinyPy converts a Python script (<b>.py</b>) into a special</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">TinyPy byte-code format (<b>.tpc</b>), and this generated code is then</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">passed into a subset of the TinyPython source code called the</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;"><b>Virtual Machine</b>, where the actual execution takes place.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">One can even extend the idea that if the VM is compiled into a</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">low-level format adaptable to a particular microcontroller,</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">then the VM will reside inside that chip, and any .tpc file can</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">be downloaded into the chip as its input.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">A basic analysis of source code for TinyPy v1.1, excluding the</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">byte-code compilation phase, was performed. The focus was</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">on the working of the TinyPy Virtual Machine, which actually</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">executes the byte-code.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The TinyPython source code used was downloaded from:</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><a href="http://code.google.com/p/tinypy/downloads/list"><span class="Apple-style-span" style="font-family: inherit;">http://code.google.com/p/tinypy/downloads/list</span></a><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;.</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><u><span class="Apple-style-span" style="font-family: inherit;">BUILDING TINYPY</span></u></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">Initially, the file listing will look like the following figure:</span></span></div><table border="0" cellpadding="0" cellspacing="0" style="width: 322px;"><col width="322"></col>  <tbody><tr>   <td width="322"><div align="CENTER"><a href="http://3.bp.blogspot.com/_rkBB8V8TgZY/TKIDZbRC9pI/AAAAAAAAAPY/Q_4eRXMcEtY/s1600/Screenshot-1.png"><span class="Apple-style-span" style="font-family: inherit;"><img align="BOTTOM" border="0" height="146" name="graphics1" src="http://3.bp.blogspot.com/_rkBB8V8TgZY/TKIDZbRC9pI/AAAAAAAAAPY/Q_4eRXMcEtY/s320/Screenshot-1.png" width="320" /></span></a></div></td>  </tr><tr>   <td width="322"><div align="CENTER" style="border: none; padding: 0cm;"><span style="font-size: x-small;"><span class="Apple-style-span" style="font-family: inherit;">Fig    1. TinyPy source file contents</span></span></div></td>  </tr></tbody></table><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp; &nbsp;</span><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">Initially, the 'build' folder will be empty. The 'doc',</span></span></span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">'examples'&nbsp;and&nbsp;'modules' folder may or may not contain</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">any documents,&nbsp;Python scripts&nbsp;and batteries (or modules)</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">respectively,&nbsp;depending on the downloaded package.</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The LICENSE.txt,&nbsp;README.txt, CHANGES.txt and</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">ROADMAP.txt describe the essential details of&nbsp;TinyPy.</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The&nbsp;'setup.py' contain the&nbsp;initial code to build&nbsp;the TinyPy</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">from scratch. At the terminal,&nbsp;type as follows:</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">python setup.py linux</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">It is implied that you need a Python interpreter available in&nbsp;</span></span></span><i><b><span class="Apple-style-span" style="font-family: inherit;"><br /></span> </b></i><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">your system. The 'linux' option is to specify that the code will</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">be compiled so as to make it work&nbsp;in a Linux environment.&nbsp;</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">Now, a new executable 'tinypy' will appear in the 'build' folder.</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;">To fully bootstrap and test TinyPy, give the command as:</span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;<b><i>python setup.py linux boot</i></b></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><i><b><span class="Apple-style-span" style="font-family: inherit;"><br /></span> </b></i><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">Now, in the 'tinypy' folder shown above, two new&nbsp;</span></span></span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">executables,&nbsp;'tinypy' and 'vm' will appear, which are the&nbsp;</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">TinyPy parser, and Virtual Machine&nbsp;respectively. It can be&nbsp;</span></span></span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;">noticed that new .pyc files for the corresponding .py&nbsp;</span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">files have&nbsp;also been generated by the Python interpreter.</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The general usage and some options available are listed below:</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;<b><i>python setup.py command [option] [module]</i></b></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><i><b><span class="Apple-style-span" style="font-family: inherit;"><br />• </span></b></i><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><b><i>64 k</i></b> - build a a 64k version of TinyPy source code</span></span></span><b><i><span class="Apple-style-span" style="font-family: inherit;"><br />• </span></i></b><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><b><i>blob</i></b> - build a single 'tinypy.c' and 'tinypy.h'</span></span></span><i><b><span class="Apple-style-span" style="font-family: inherit;"><br /></span> </b></i></span><br /><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></span></span></span><br />The '<b><i>py2bc.py</i></b>' script is used to convert a user-generated&nbsp;</div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">Python script into its corresponding .tpc file.</span></span></span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;">&nbsp;&nbsp; &nbsp;<b><i>python py2bc.py sample.py sample.tpc</i></b><br /><b><i><br /></i></b><br />Here, tinypy_path is the path (relative to current position)&nbsp;</div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">of either the tinypy&nbsp;executable in the 'build' folder, or the one</span></span></span></span></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">in the 'tinypy' folder. 'sample.py' is&nbsp;the name of the user-script.</span></span></span></span></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">'sample.tpc' is the name given for the byte-code&nbsp;converted file.</span></span></span></span><br /><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></span></span></span><br />Finally, the generated byte-code (.tpc) is to be passed into the</div></div></span></span></span></span><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">VM for compilation and execution. Assuming the current&nbsp;</span></span></span></span><br /><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">directory as 'tinypy' folder, it is done</span></span></span></span><span class="Apple-style-span" style="font-family: inherit;">&nbsp;</span><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">as:</span></span></span></span><br /><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;<b><i>vm sample.tpc</i></b></span><br /><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><br />Or logically,</span></span></span></span><br /><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;<b><i>gcc vmmain.c -lm ./a.out sample.tpc</i></b></span><br /><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><br />The 'vmmain.c', present in the 'tinypy' folder, is the main&nbsp;</span></span></span></span><br /><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">function of&nbsp;the VM which runs and automatically links all the</span></span></span></span><br /><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">other files necessary for&nbsp;the VM. And now the output is </span></span></span></span><span class="Apple-style-span" style="font-family: inherit;"> </span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">obtained and displayed. For a better picture, the files actually</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">needed for VM are:</span></span></div><table border="0" cellpadding="0" cellspacing="0" style="width: 322px;"><col width="322"></col>  <tbody><tr>   <td width="322"><div align="CENTER"><a href="http://1.bp.blogspot.com/_rkBB8V8TgZY/TKITlLtBh5I/AAAAAAAAAPc/rR093bVH87M/s1600/Screenshot-5.png"><span class="Apple-style-span" style="font-family: inherit;"><img align="BOTTOM" border="0" height="140" name="graphics2" src="http://1.bp.blogspot.com/_rkBB8V8TgZY/TKITlLtBh5I/AAAAAAAAAPc/rR093bVH87M/s320/Screenshot-5.png" width="320" /></span></a></div></td>  </tr><tr>   <td width="322"><div align="CENTER" style="border: none; padding: 0cm;"><span style="font-size: x-small;"><span class="Apple-style-span" style="font-family: inherit;">Fig    2. The files needed for the VM</span></span></div></td>  </tr></tbody></table><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><i><b><span class="Apple-style-span" style="font-family: inherit;"><br /></span> </b></i></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;">For debugging and understanding the flow of control within</span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">the source code, the 'gdb' and 'ctags' tools were used.</span></span></span><i><b><span class="Apple-style-span" style="font-family: inherit;"><br /></span> </b></i><span style="font-style: normal;"><b><u><span class="Apple-style-span" style="font-family: inherit;">ANALYZING THE VM</span></u></b></span><b><i><span class="Apple-style-span" style="font-family: inherit;"><br /></span> </i></b><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">A sample program 'sample.py':</span></span></span><i><b><span class="Apple-style-span" style="font-family: inherit;"><br />&nbsp;&nbsp; &nbsp;def add(a, b):<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;c = a + b<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;return(c)<br />&nbsp;&nbsp; &nbsp;print(add(1, 9))<br /></span>  <span class="Apple-style-span" style="font-style: normal; font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">gives you the output:</span></span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">10</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">Each time the VM is invoked, a new instance of the VM is</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">created .</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_vm *tp = tp_init(argc, argv);</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><b><span class="Apple-style-span" style="font-family: inherit;">"Each object in tinypy is stored as a union in the C API."</span></b></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">tp_obj is tinypy's object representation.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><i><b><span class="Apple-style-span" style="font-family: inherit;">typedef union tp_obj</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><i><b><span class="Apple-style-span" style="font-family: inherit;">{</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">int type;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_number_ number;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">struct{int type;int *data;}gci;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_string_ string;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_dict_ dict;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_list_ list;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_fnc_ fnc;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_data_ data;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><i><b><span class="Apple-style-span" style="font-family: inherit;">}tp_obj;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The field 'type' of the union indicates the type, of the object.</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">A type value of 1 indicates that a number is being used,</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">type = 2 indicates object is a string and type = 4 indicates a list.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">In the sample program, a function in the VM 'tp_add' does the</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">job of adding two arguments (numbers, strings, lists) that are</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">passed to the function as input.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;&nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_obj tp_add(TP, tp_obj a, tp_obj b)</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The function definition of 'tp_add' contains three arguments:</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; • </span><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><b><i>TP</i></b> -&gt; the VM instance</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; • </span><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><b><i>tp_obj a</i></b> -&gt; the union variable representing the object 'a' in</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">the sample program</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; • </span><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;"><b><i>tp_obj b</i></b> -&gt; the union variable representing the object 'b' in</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">the sample program</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">'a' and 'b' are stored as unions and contains fields for types</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">such as number, strings, lists, etc.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">Consider two simple lists in Python:</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">a = [1,2,3]</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">b = [4,5,6]</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The VM uses a function '</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_extend</span></b></i><span class="Apple-style-span" style="font-family: inherit;">' which returns a union that</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">contains the new (extended) list. Its 'type' would be 4 indicating</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">a list. The 'list' structure variable includes a pointer *val that</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">points to another structure </span><i><b><span class="Apple-style-span" style="font-family: inherit;">'_tp_list</span></b></i><span class="Apple-style-span" style="font-family: inherit;">'.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">typedef struct _tp_list</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">{</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">int gci;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">tp_obj *items;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">int len;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">int alloc;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">}_tp_list;</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The pointer </span><i><b><span class="Apple-style-span" style="font-family: inherit;">*items </span></b></i><span class="Apple-style-span" style="font-family: inherit;">as you could see is of type tp_obj and</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">de-referencing it would give you the union tp_obj. This</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">union contains a single element of the final list.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">To obtain the next element of the final list:</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">r.list.val -&gt; items</span></b></i></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">would give you the address of the union. </span></span><span class="Apple-style-span" style="font-family: inherit;"> </span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">Union containing the next element of the list = Address of&nbsp;</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">the current union + size of each union.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; </span><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">Here:</span></span></span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; &nbsp;</span><i><b><span class="Apple-style-span" style="font-family: inherit;">r.list.val -&gt; items = 0x96ca048 + 10</span></b></i></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">would give you the union that stores the next element of the</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">list . The size of the union is 10, in hexadecimal = 16 bytes.</span></span></div><table border="0" cellpadding="0" cellspacing="0" style="width: 322px;"><col width="322"></col>  <tbody><tr>   <td width="322"><div align="CENTER"><a href="http://3.bp.blogspot.com/_rkBB8V8TgZY/TKIfMfrsehI/AAAAAAAAAPg/U9dV8MwepRs/s1600/drawing.png"><span class="Apple-style-span" style="font-family: inherit;"><img align="BOTTOM" border="0" height="180" name="graphics3" src="http://3.bp.blogspot.com/_rkBB8V8TgZY/TKIfMfrsehI/AAAAAAAAAPg/U9dV8MwepRs/s320/drawing.png" width="320" /></span></a></div></td>  </tr><tr>   <td width="322"><div align="CENTER" style="border: none; padding: 0cm;"><span style="font-size: x-small;"><span class="Apple-style-span" style="font-family: inherit;">Fig    3. The representation of a list</span></span></div></td>  </tr></tbody></table><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><u><b><span class="Apple-style-span" style="font-family: inherit;">THE PATH OF 'tp_add'</span></b></u></span></div><table border="0" cellpadding="0" cellspacing="0" style="width: 264px;"><col width="264"></col>  <tbody><tr>   <td width="264"><div align="CENTER"><a href="http://1.bp.blogspot.com/_rkBB8V8TgZY/TKIgCBB1EcI/AAAAAAAAAPk/ccuuVugdsbg/s1600/flow.png"><span class="Apple-style-span" style="font-family: inherit;"><img align="BOTTOM" border="0" height="320" name="graphics4" src="http://1.bp.blogspot.com/_rkBB8V8TgZY/TKIgCBB1EcI/AAAAAAAAAPk/ccuuVugdsbg/s320/flow.png" width="262" /></span></a></div></td>  </tr><tr>   <td width="264"><div align="CENTER" style="border: none; padding: 0cm;"><span style="font-size: x-small;"><span class="Apple-style-span" style="font-family: inherit;">Fig    4. The backtraced path of 'tp_add'</span></span></div></td>  </tr></tbody></table><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp;&nbsp; </span><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">While debugging, our sample program and one of the&nbsp;</span></span></span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">input data too, can be&nbsp;spotted as:</span></span></div><table border="0" cellpadding="0" cellspacing="0" style="width: 322px;"><col width="322"></col>  <tbody><tr>   <td width="322"><div align="CENTER"><a href="http://4.bp.blogspot.com/_rkBB8V8TgZY/TKIgmAfsiVI/AAAAAAAAAPo/78NJLabLTh4/s1600/Screenshot-7.png"><span class="Apple-style-span" style="font-family: inherit;"><img align="BOTTOM" border="0" height="22" name="graphics5" src="http://4.bp.blogspot.com/_rkBB8V8TgZY/TKIgmAfsiVI/AAAAAAAAAPo/78NJLabLTh4/s320/Screenshot-7.png" width="320" /></span></a></div></td>  </tr><tr>   <td width="322"><div align="CENTER" style="border: none; padding: 0cm;"><span style="font-size: x-small;"><span class="Apple-style-span" style="font-family: inherit;">Fig    5. Spotting the sample program</span></span></div></td>  </tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" style="width: 322px;"><col width="322"></col>  <tbody><tr>   <td width="322"><div align="CENTER"><a href="http://2.bp.blogspot.com/_rkBB8V8TgZY/TKIg7sOI6tI/AAAAAAAAAPs/AP5TAXRRi_k/s1600/Screenshot-9.png"><span class="Apple-style-span" style="font-family: inherit;"><img align="BOTTOM" border="0" height="24" name="graphics6" src="http://2.bp.blogspot.com/_rkBB8V8TgZY/TKIg7sOI6tI/AAAAAAAAAPs/AP5TAXRRi_k/s320/Screenshot-9.png" width="320" /></span></a></div></td>  </tr><tr>   <td width="322"><div align="CENTER" style="border: none; padding: 0cm;"><span style="font-size: x-small;"><span class="Apple-style-span" style="font-family: inherit;">Fig    6. Spotting one of the inputs</span></span></div></td>  </tr></tbody></table><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;">&nbsp; &nbsp;</span><span style="color: black;"><span style="font-style: normal;"><span style="font-weight: normal;"><span class="Apple-style-span" style="font-family: inherit;">The <b><i>switch()</i></b> inside '<b><i>vm.c</i></b>' is invoked nine times, one of</span></span></span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">which will be the&nbsp;selection of case: '<b><i>TP_IADD</i></b>' and&nbsp;</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">subsequent execution of '<b><i>tp_add</i></b>'.</span></span></div><table border="0" cellpadding="0" cellspacing="0" style="width: 322px;"><col width="322"></col>  <tbody><tr>   <td width="322"><div align="CENTER"><a href="http://1.bp.blogspot.com/_rkBB8V8TgZY/TKIheMvVw5I/AAAAAAAAAPw/TR5jDDu1rKQ/s1600/Screenshot-25.png"><span class="Apple-style-span" style="font-family: inherit;"><img align="BOTTOM" border="0" height="48" name="graphics7" src="http://1.bp.blogspot.com/_rkBB8V8TgZY/TKIheMvVw5I/AAAAAAAAAPw/TR5jDDu1rKQ/s320/Screenshot-25.png" width="320" /></span></a></div></td>  </tr><tr>   <td width="322"><div align="CENTER" style="border: none; padding: 0cm;"><span style="font-size: x-small;"><span class="Apple-style-span" style="font-family: inherit;">Fig    7. The case: 'TP_IADD'</span></span></div></td>  </tr></tbody></table><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span> </span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">Another trial debugging was done with input file 'testing.tpc',&nbsp;</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">whose source&nbsp;script was 'testing.py' which just added two&nbsp;</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">numbers. Only the filename 'testing.tpc' was given to the&nbsp;</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">debugger.</span></span></div><div style="margin-bottom: 0cm; orphans: 2; widows: 2;"><span class="Apple-style-span" style="font-family: inherit;"><br /></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">The VM snapshot taken while debugging, showing the&nbsp;</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">name of&nbsp;the source script 'testing.py' and the function used</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">'print(a + b)' stored in the fields&nbsp;of the VM data structures,</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">and the conclusion to this analysis, and more details can be</span></span></div><div style="font-style: normal; font-weight: normal; margin-bottom: 0cm; orphans: 2; widows: 2;"><span style="color: black;"><span class="Apple-style-span" style="font-family: inherit;">found in:</span></span></div><div style="margin-bottom: 0cm;"><a href="http://github.com/HariJohnKuriakose/tinypython">http://github.com/HariJohnKuriakose/tinypython</a><br /><br /></div>